
import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'ru' | 'en';

interface LanguageContextType {
  language: Language;
  toggleLanguage: () => void;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

// Translation dictionary
const translations: Record<Language, Record<string, string>> = {
  en: {
    'greeting.morning': 'Good morning',
    'greeting.afternoon': 'Good afternoon',
    'greeting.evening': 'Good evening',
    'greeting.night': 'Good night',
    'search.placeholder': 'What are you looking for?',
    'search.notFound': 'Oops, your book has escaped from us! üò≠ The search fell into a book time hole. Maybe it\'s hiding behind the pages of other stories? Let\'s search together again! üìö‚ú®',
    'search.tryAgain': 'Try different keywords or browse our categories',
    'search.books': 'Books',
    'search.authors': 'Authors',
    'search.booksPlaceholder': 'Search for books...',
    'search.authorsPlaceholder': 'Search for authors...',
    'search.authorNotFound': 'Sorry, we couldn\'t find an author with that name! üòî‚ú®',
    'search.authorNotFoundDescription': 'Maybe they\'re just waiting for their moment to shine. Try searching for different names or check out new categories!',
    'search.authorsFound': 'Found Authors',
    'nav.home': 'Home',
    'nav.favorites': 'Favorites',
    'nav.saved': 'Saved',
    'sidebar.theme': 'Theme',
    'sidebar.language': 'Language',
    'sidebar.logout': 'Logout',
    'sidebar.settings': 'Settings',
    'login.username': 'Username',
    'login.password': 'Password',
    'login.submit': 'Login',
    'login.welcome': 'Welcome to ReadNest',
    'settings.title': 'App Settings',
    'settings.appearance': 'Appearance',
    'settings.darkMode': 'Dark Mode',
    'settings.open': 'Open Settings',
    'settings.version': 'App Version',
    'settings.versionNumber': '1.0.0',
    'settings.earlyVersion': 'This is an early version',
    'editor.bold': 'Bold',
    'editor.italic': 'Italic',
    'editor.underline': 'Underline',
    'editor.strikethrough': 'Strikethrough',
    'editor.color': 'Color',
    'editor.applyColor': 'Apply color',
    'editor.writeSomething': 'Write something here...',
    'editor.formatting': 'Supported formatting',
    'publish.title': 'Publish a book',
    'publish.description': 'Fill in the information about your book and edit the content before publishing.',
    'publish.bookInfo': 'Book Information',
    'publish.bookContent': 'Book Content',
    'publish.bookTitle': 'Book Title',
    'publish.titlePlaceholder': 'Enter book title',
    'publish.author': 'Author',
    'publish.authorPlaceholder': 'Enter author name',
    'publish.coverImage': 'Book Cover',
    'publish.cover': 'Cover',
    'publish.changeCover': 'Change cover',
    'publish.dropImage': 'Drop image here or click to select',
    'publish.selectImage': 'Select image',
    'publish.recommendedSize': 'Recommended size: 800√ó1200 pixels',
    'publish.content': 'Book Content',
    'publish.cancel': 'Cancel',
    'publish.publish': 'Publish',
    'publish.authors': 'Authors',
    'publish.authorsPlaceholder': 'Enter authors\' names separated by commas',
    'publish.releaseDate': 'Release Date',
    'publish.selectDate': 'Select a date',
    'publish.saveDraft': 'Save Draft',
    'publish.multipleAuthorsHint': 'If the book was written jointly with other authors, list their names separated by commas',
    'profile.title': 'User Profile',
    'profile.information': 'Information',
    'profile.subscriptions': 'Subscriptions',
    'profile.blocked': 'Blocked Users',
    'profile.editProfile': 'Edit Profile',
    'profile.username': 'Username',
    'profile.firstName': 'First Name',
    'profile.lastName': 'Last Name',
    'profile.firstNamePlaceholder': 'Enter your first name',
    'profile.lastNamePlaceholder': 'Enter your last name (optional)',
    'profile.changeAvatar': 'Click on the avatar to change it',
    'profile.saveChanges': 'Save Changes',
    'profile.saving': 'Saving...',
    'profile.updateSuccess': 'Profile Updated',
    'profile.updateSuccessMessage': 'Your profile has been successfully updated',
    'profile.updateError': 'Error',
    'profile.updateErrorMessage': 'An error occurred while updating your profile',
    'profile.userID': 'User ID',
    'profile.personalInfo': 'Personal Information',
    'profile.privacy': 'Privacy',
    'profile.privacySettings': 'Privacy Settings',
    'profile.privacyDescription': 'Configure the privacy settings for your profile',
    'profile.hideSubscriptions': 'Hide my subscriptions',
    'profile.hideSubscriptionsDescription': 'Other users won\'t be able to see who you\'re subscribed to',
    'profile.allowComments': 'Allow comments on books',
    'profile.allowCommentsDescription': 'Users will be able to leave comments on your books',
    'profile.perBookCommentsSettings': 'Per-book comment settings',
    'profile.perBookCommentsDescription': 'Configure commenting ability for each book separately',
    'profile.noPublishedBooks': 'You don\'t have any published books yet',
    'profile.privacyUpdated': 'Privacy Settings Updated',
    'profile.subscriptionsHidden': 'Your subscriptions are now hidden from other users',
    'profile.subscriptionsVisible': 'Your subscriptions are now visible to other users',
    'profile.privacyUpdateError': 'An error occurred while updating privacy settings',
    'profile.commentsUpdated': 'Comment Settings Updated',
    'profile.commentsEnabled': 'Comments are enabled for all your books',
    'profile.commentsDisabled': 'Comments are disabled for all your books',
    'profile.commentsUpdateError': 'An error occurred while updating comment settings',
    'profile.usernameCopied': 'Username copied',
    'comments.title': 'Comments',
    'comments.placeholder': 'Write a comment...',
    'comments.submit': 'Submit',
    'comments.sending': 'Sending...',
    'comments.noComments': 'No comments yet. Be the first to leave a comment!',
    'comments.added': 'Comment Added',
    'comments.addedMessage': 'Your comment has been successfully added',
    'comments.disabled': 'Comments Disabled',
    'comments.disabledMessage': 'The author has disabled comments for this book',
    'subscriptions.title': 'My Subscriptions',
    'subscriptions.noSubscriptions': 'No Subscriptions',
    'subscriptions.noSubscriptionsDescription': 'You haven\'t subscribed to any authors yet',
    'subscriptions.mutualSubscription': 'Mutual Subscription',
    'subscriptions.notSubscribedBack': 'Not subscribed to you',
    'subscriptions.unsubscribe': 'Unsubscribe',
    'subscriptions.block': 'Block',
    'subscriptions.unsubscribed': 'Unsubscribed',
    'subscriptions.unsubscribedMessage': 'You have unsubscribed from this user',
    'subscriptions.blocked': 'User Blocked',
    'subscriptions.blockedMessage': 'This user has been added to your block list',
    'blocked.title': 'Blocked Users',
    'blocked.noBlockedUsers': 'No Blocked Users',
    'blocked.noBlockedUsersDescription': 'You haven\'t blocked any users yet',
    'blocked.unblock': 'Unblock',
    'blocked.unblocked': 'User Unblocked',
    'blocked.unblockedMessage': 'This user has been removed from your block list',
    'settings.gradientUI': 'Gradient UI',
    'profile.avatarSizeLimit': 'Maximum file size: 10MB',
    'profile.avatarFormats': 'Supported formats: JPEG, PNG, GIF',
    'profile.avatarDimensions': 'Recommended size: 200x200 to 1000x1000 pixels',
    'profile.bio': 'About me',
    'profile.bioPlaceholder': 'Tell something about yourself...',
    'profile.imageTooLarge': 'Avatar size must not exceed 10MB',
    'profile.imageTooLargeTitle': 'Avatar upload error',
  },
  ru: {
    'greeting.morning': '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ',
    'greeting.afternoon': '–î–æ–±—Ä—ã–π –¥–µ–Ω—å',
    'greeting.evening': '–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä',
    'greeting.night': '–î–æ–±—Ä–æ–π –Ω–æ—á–∏',
    'search.placeholder': '–ß—Ç–æ –∏—â–µ–º?',
    'search.notFound': '–£–≤—ã, —Ç–≤–æ—è –∫–Ω–∏–∂–µ—á–∫–∞ —É—Å–∫–æ–ª—å–∑–Ω—É–ª–∞ –æ—Ç –Ω–∞—Å! üò≠ –ü–æ–∏—Å–∫ –ø–æ–ø–∞–ª –≤ –∫–Ω–∏–∂–Ω—É—é —è–º—É –≤—Ä–µ–º–µ–Ω–∏. –ú–æ–∂–µ—Ç, –æ–Ω–∞ –ø—Ä—è—á–µ—Ç—Å—è –∑–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—Ä–∏–π? –î–∞–≤–∞–π –ø–æ–∏—â–µ–º –≤–º–µ—Å—Ç–µ –µ—â—ë —Ä–∞–∑! üìö‚ú®',
    'search.tryAgain': '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—à–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏',
    'search.books': '–ö–Ω–∏–≥–∏',
    'search.authors': '–ê–≤—Ç–æ—Ä—ã',
    'search.booksPlaceholder': '–ü–æ–∏—Å–∫ –∫–Ω–∏–≥...',
    'search.authorsPlaceholder': '–ü–æ–∏—Å–∫ –∞–≤—Ç–æ—Ä–æ–≤...',
    'search.authorNotFound': '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –º—ã –Ω–µ –Ω–∞—à–ª–∏ –∞–≤—Ç–æ—Ä–∞ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º! üòî‚ú®',
    'search.authorNotFoundDescription': '–í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω –≤—Å–µ–≥–æ –ª–∏—à—å –∂–¥ÔøΩÔøΩ—Ç —Å–≤–æ–µ–≥–æ –∑–≤–µ–∑–¥–Ω–æ–≥–æ —á–∞—Å–∞. –ü–æ–∏—â–∏—Ç–µ –ø–æ –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–∞–º –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö!',
    'search.authorsFound': '–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä—ã',
    'nav.home': '–ì–ª–∞–≤–Ω–∞—è',
    'nav.favorites': '–ò–∑–±—Ä–∞–Ω–Ω–æ–µ',
    'nav.saved': '–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ',
    'sidebar.theme': '–¢–µ–º–∞',
    'sidebar.language': '–Ø–∑—ã–∫',
    'sidebar.logout': '–í—ã–π—Ç–∏',
    'sidebar.settings': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
    'login.username': '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'login.password': '–ü–∞—Ä–æ–ª—å',
    'login.submit': '–í–æ–π—Ç–∏',
    'login.welcome': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ReadNest',
    'settings.title': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
    'settings.appearance': '–í–Ω–µ—à–Ω–∏–π –≤–∏–¥',
    'settings.darkMode': '–¢–µ–º–Ω–∞—è —Ç–µ–º–∞',
    'settings.open': '–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏',
    'settings.version': '–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
    'settings.versionNumber': '1.0.0',
    'settings.earlyVersion': '–≠—Ç–æ —Ä–∞–Ω–Ω—è—è –≤–µ—Ä—Å–∏—è',
    'editor.bold': '–ñ–∏—Ä–Ω—ã–π',
    'editor.italic': '–ö—É—Ä—Å–∏–≤',
    'editor.underline': '–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π',
    'editor.strikethrough': '–ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π',
    'editor.color': '–¶–≤–µ—Ç',
    'editor.applyColor': '–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç',
    'editor.writeSomething': '–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –∑–¥–µ—Å—å...',
    'editor.formatting': '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
    'publish.title': '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–Ω–∏–≥—É',
    'publish.description': '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–π –∫–Ω–∏–≥–µ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.',
    'publish.bookInfo': '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ',
    'publish.bookContent': '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–Ω–∏–≥–∏',
    'publish.bookTitle': '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏',
    'publish.titlePlaceholder': '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏',
    'publish.author': '–ê–≤—Ç–æ—Ä',
    'publish.authorPlaceholder': '–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞',
    'publish.coverImage': '–û–±–ª–æ–∂–∫–∞ –∫–Ω–∏–≥–∏',
    'publish.cover': '–û–±–ª–æ–∂–∫–∞',
    'publish.changeCover': '–ò–∑–º–µ–Ω–∏—Ç—å –æ–±–ª–æ–∂–∫—É',
    'publish.dropImage': '–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞',
    'publish.selectImage': '–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
    'publish.recommendedSize': '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 800√ó1200 –ø–∏–∫—Å–µ–ª–µ–π',
    'publish.content': '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–Ω–∏–≥–∏',
    'publish.cancel': '–û—Ç–º–µ–Ω–∞',
    'publish.publish': '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å',
    'publish.authors': '–ê–≤—Ç–æ—Ä—ã',
    'publish.authorsPlaceholder': '–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é',
    'publish.releaseDate': '–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞',
    'publish.selectDate': '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É',
    'publish.saveDraft': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫',
    'publish.multipleAuthorsHint': '–ï—Å–ª–∏ –∫–Ω–∏–≥—É –ø–∏—Å–∞–ª–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ –∞–≤—Ç–æ—Ä–∞–º–∏, —É–∫–∞–∂–∏—Ç–µ –∏—Ö –∏–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é',
    'profile.title': '–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'profile.information': '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
    'profile.subscriptions': '–ü–æ–¥–ø–∏—Å–∫–∏',
    'profile.blocked': '–ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫',
    'profile.editProfile': '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å',
    'profile.username': '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'profile.firstName': '–ò–º—è',
    'profile.lastName': '–§–∞–º–∏–ª–∏—è',
    'profile.firstNamePlaceholder': '–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è',
    'profile.lastNamePlaceholder': '–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é (–ø–æ –∂–µ–ª–∞–Ω–∏—é)',
    'profile.changeAvatar': '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫—É, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å',
    'profile.saveChanges': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è',
    'profile.saving': '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',
    'profile.updateSuccess': '–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω',
    'profile.updateSuccessMessage': '–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –±—ã–ª —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω',
    'profile.updateError': '–û—à–∏–±–∫–∞',
    'profile.updateErrorMessage': '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è',
    'profile.userID': 'ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'profile.personalInfo': '–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
    'profile.privacy': '–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å',
    'profile.privacySettings': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏',
    'profile.privacyDescription': '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è',
    'profile.hideSubscriptions': '–°–∫—Ä—ã—Ç—å –º–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏',
    'profile.hideSubscriptionsDescription': '–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å, –Ω–∞ –∫–æ–≥–æ –≤—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã',
    'profile.allowComments': '–†–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–Ω–∏–≥–∞–º',
    'profile.allowCommentsDescription': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –≤–∞—à–∏–º –∫–Ω–∏–≥–∞–º',
    'profile.perBookCommentsSettings': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–Ω–∏–≥',
    'profile.perBookCommentsDescription': '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏ –æ—Ç–¥–µ–ª—å–Ω–æ',
    'profile.noPublishedBooks': '–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –∫–Ω–∏–≥',
    'profile.privacyUpdated': '–ù–∞—Å—Ç—Ä–æÔøΩÔøΩ–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã',
    'profile.subscriptionsHidden': '–í–∞—à–∏ –ø–æ–¥–ø–∏—Å–∫–∏ —Ç–µ–ø–µ—Ä—å —Å–∫—Ä—ã—Ç—ã –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π',
    'profile.subscriptionsVisible': '–í–∞—à–∏ –ø–æ–¥–ø–∏—Å–∫–∏ —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω—ã –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º',
    'profile.privacyUpdateError': '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏',
    'profile.commentsUpdated': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω—ã',
    'profile.commentsEnabled': '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –≤–∞—à–∏—Ö –∫–Ω–∏–≥',
    'profile.commentsDisabled': '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –≤–∞—à–∏—Ö –∫–Ω–∏–≥',
    'profile.commentsUpdateError': '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤',
    'profile.usernameCopied': '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ',
    'comments.title': '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏',
    'comments.placeholder': '–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...',
    'comments.submit': '–û—Ç–ø—Ä–∞–≤–∏—Ç—å',
    'comments.sending': '–û—Ç–ø—Ä–∞–≤–∫–∞...',
    'comments.noComments': '–ù–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π!',
    'comments.added': '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–±–∞–≤–ª–µ–Ω',
    'comments.addedMessage': '–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –±—ã–ª —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω',
    'comments.disabled': '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã',
    'comments.disabledMessage': '–ê–≤—Ç–æ—Ä –æ—Ç–∫–ª—é—á–∏–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —ç—Ç–æ–π –∫–Ω–∏–≥–∏',
    'subscriptions.title': '–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏',
    'subscriptions.noSubscriptions': '–ù–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫',
    'subscriptions.noSubscriptionsDescription': '–í—ã –µ—â–µ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∏ –Ω–∞ –æ–¥–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞',
    'subscriptions.mutualSubscription': '–í–∑–∞–∏–º–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞',
    'subscriptions.notSubscribedBack': '–ù–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –≤–∞—Å',
    'subscriptions.unsubscribe': '–û—Ç–ø–∏—Å–∞—Ç—å—Å—è',
    'subscriptions.block': '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å',
    'subscriptions.unsubscribed': '–û—Ç–ø–∏—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞',
    'subscriptions.unsubscribedMessage': '–í—ã –æ—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'subscriptions.blocked': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω',
    'subscriptions.blockedMessage': '–≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫',
    'blocked.title': '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏',
    'blocked.noBlockedUsers': '–ù–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π',
    'blocked.noBlockedUsersDescription': '–í—ã –µ—â–µ –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'blocked.unblock': '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å',
    'blocked.unblocked': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω',
    'blocked.unblockedMessage': '–≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–∑ –≤–∞—à–µ–≥–æ —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞',
    'settings.gradientUI': '–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω',
    'profile.avatarSizeLimit': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 10–ú–ë',
    'profile.avatarFormats': '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPEG, PNG, GIF',
    'profile.avatarDimensions': '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 200x200 –¥–æ 1000x1000 –ø–∏–∫—Å–µ–ª–µ–π',
    'profile.bio': '–û —Å–µ–±–µ',
    'profile.bioPlaceholder': '–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –æ —Å–µ–±–µ...',
    'profile.imageTooLarge': '–†–∞–∑–º–µ—Ä –∞–≤–∞—Ç–∞—Ä–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 10–ú–ë',
    'profile.imageTooLargeTitle': '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∞',
  },
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>(() => {
    // Initialize from localStorage or browser language
    const savedLang = localStorage.getItem('readnest-language') as Language | null;
    if (savedLang) return savedLang;
    
    // Default to Russian per requirements
    return 'ru';
  });

  useEffect(() => {
    // Update localStorage when language changes
    localStorage.setItem('readnest-language', language);
  }, [language]);

  const toggleLanguage = () => {
    setLanguage(prevLang => (prevLang === 'en' ? 'ru' : 'en'));
  };

  // Translation function
  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, toggleLanguage, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
